/*!
 * Hux Blog v1.7.0 (http://huxpro.github.io)
 * Copyright 2017 Hux <huxpro@gmail.com>
 */
$(document).ready(function(){$("table").wrap("<div class='table-responsive'></div>"),$("table").addClass("table")}),$(document).ready(function(){$('iframe[src*="youtube.com"]').wrap('<div class="embed-responsive embed-responsive-16by9"></div>'),$('iframe[src*="youtube.com"]').addClass("embed-responsive-item"),$('iframe[src*="vimeo.com"]').wrap('<div class="embed-responsive embed-responsive-16by9"></div>'),$('iframe[src*="vimeo.com"]').addClass("embed-responsive-item")}),jQuery(document).ready(function(a){var b=1170;if(a(window).width()>b){var c=a(".navbar-custom").height(),d=a(".intro-header .container").height();a(window).on("scroll",{previousTop:0},function(){var b=a(window).scrollTop(),e=a(".side-catalog");b<this.previousTop?b>0&&a(".navbar-custom").hasClass("is-fixed")?a(".navbar-custom").addClass("is-visible"):a(".navbar-custom").removeClass("is-visible is-fixed"):(a(".navbar-custom").removeClass("is-visible"),b>c&&!a(".navbar-custom").hasClass("is-fixed")&&a(".navbar-custom").addClass("is-fixed")),this.previousTop=b,e.show(),b>d+41?e.addClass("fixed"):e.removeClass("fixed")})}});

// Navigation Scripts to Show Header on Scroll-Up

$(document).ready(function(){
 //首先将#back-to-top隐藏
 $("#back-to-top").hide();
 //当滚动条的位置处于距顶部600像素以下时，跳转链接出现，否则消失
 $(function () {
  $(window).scroll(function(){
   if ($(window).scrollTop()>600){
    $("#back-to-top").fadeIn(500);
   }else{
    $("#back-to-top").fadeOut(500);
   }
 });
 //当点击跳转链接后，回到页面顶部位置
 $("#back-to-top").click(function(){
  $('body,html').animate({scrollTop:0},500);
   return false;
  });
 });
});

// Search Settings
let results = document.getElementById('results-container');

// override enter event to do nothing but flesh the page
function _keyDownDefault(){
    let e = event || window.event || arguments.callee.caller.arguments[0];
    if(e && e.keyCode==13){} // enter
}

$(document).ready(function() {
    "use strict";
    document.onkeydown = _keyDownDefault;
    // handle search event
  $('.search-icon').on('click', function(e){
      // e.preventDefault();
      if ($('.search-box').hasClass('hidden')) {
          $('.search-box').removeClass('hidden');
          setTimeout(function () {
              $('.search-box').addClass('search-active');
              if ($('.search-box').hasClass('search-active')) {
                  // search-box enable;
                  $('#search-input').val("");
                  results.innerHTML = "";
                  if (window.innerWidth > 932){
                      // desktop
                      $(document).on('click', function (e) {
                          let x = e.pageX;
                          let y = e.pageY - (document.body.scrollTop || document.documentElement.scrollTop);
                          if (x < 100 || x > 550 || y > 500){
                              // closing search box
                              // e.preventDefault();
                              $('.search-box').removeClass('search-active');
                              setTimeout(function () {
                                  $('.search-box').addClass('hidden');
                              },400)
                          }
                      });
                  }else {
                      // hide scorebar on mobile
                      setTimeout(function () {
                          document.body.style.overflow = "hidden";
                      },500);
                  }
                  $('.search-icon-close').on('click', function(e){
                      // click close btn
                      // e.preventDefault();
                      $('.search-box').removeClass('search-active');
                      setTimeout(function () {
                          $('.search-box').addClass('hidden');
                      },400);
                      document.body.style.overflow = "auto";
                  });
                  setTimeout(function () {
                      $('#search-input').focus;
                  },1000)
                  // $('#search-input').focus();
              }
          },100)
      }else {
          $('.search-box').addClass('hidden');
          $('.search-box').removeClass('search-active');
      }
  });
});

